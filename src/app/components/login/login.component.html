<span>
  <span class="login mx-2" (mouseenter)="isMenuVisible = true" (mouseleave)="isMenuVisible = false">
  <span class="m-1 login-link">
    <i class="pi pi-user login-icon ms-1 me-2"></i>
    @if (user) {
      <span class="login-text">{{ user.name }}
        <svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M0.82302 1.323C0.846243 1.29972 0.87383 1.28125 0.904203 1.26865C0.934575 1.25604 0.967136 1.24956 1.00002 1.24956C1.0329 1.24956 1.06546 1.25604 1.09584 1.26865C1.12621 1.28125 1.1538 1.29972 1.17702 1.323L4.00002 4.1465L6.82302 1.323C6.84626 1.29976 6.87386 1.28132 6.90423 1.26874C6.9346 1.25616 6.96715 1.24969 7.00002 1.24969C7.03289 1.24969 7.06544 1.25616 7.09581 1.26874C7.12618 1.28132 7.15378 1.29976 7.17702 1.323C7.20026 1.34625 7.2187 1.37384 7.23128 1.40421C7.24386 1.43458 7.25034 1.46713 7.25034 1.5C7.25034 1.53288 7.24386 1.56543 7.23128 1.5958C7.2187 1.62617 7.20026 1.65376 7.17702 1.677L4.17702 4.677C4.1538 4.70029 4.12621 4.71876 4.09584 4.73136C4.06546 4.74396 4.0329 4.75045 4.00002 4.75045C3.96714 4.75045 3.93458 4.74396 3.9042 4.73136C3.87383 4.71876 3.84624 4.70029 3.82302 4.677L0.82302 1.677C0.799738 1.65378 0.781267 1.62619 0.768663 1.59582C0.75606 1.56545 0.749573 1.53289 0.749573 1.5C0.749573 1.46712 0.75606 1.43456 0.768663 1.40419C0.781267 1.37381 0.799738 1.34623 0.82302 1.323Z"
                fill="white" stroke="white" stroke-width="0.7"/>
        </svg>
      </span>
      <div class="login-menu" [ngStyle]="{display: isMenuVisible ? 'block' : 'none'}"
      >
        <ul>
          <li><a class="login-menu-item" (click)="isMenuVisible = false"
                 routerLink="profile/my-adverts">Мои объявления</a></li>
          <li><a class="login-menu-item" (click)="isMenuVisible = false"
                 routerLink="profile/settings">Настройки</a></li>
          <li class="login-menu-exit" (click)="logout()">Выйти</li>
        </ul>
      </div>
    } @else {
      <span class="login-text" (click)="showDialog()">Войти</span>
    }
  </span>
<p-dialog header="Вход"
          [modal]="true"
          [(visible)]="visible"
          [style]="{ width: '25rem' }"
          [breakpoints]="{ '300px': '75vw', '575px': '90vw' }"
          class="justify-content-center">
  <form [formGroup]="loginForm" action="">
    <div class="d-flex align-items-center mb-3">
        <p-inputMask mask="+9-(999)-999-99-99" id="phone" [style]="{ width: '300px' }"
                     formControlName="phone"
                     Z placeholder="Номер телефона"
                     autocomplete="off"
                     unmask="true"/>
    </div>
    <div class="d-flex align-items-center gap-3 mb-2">
        <input pInputText id="password" formControlName="password" class="login-password justify-content-end"
               [minlength]="8" [maxlength]="30"
               placeholder="Пароль"
               autocomplete="off"/>
    </div>
    <div class="d-flex  justify-content-end mb-4">
    <a (click)="showRegister()">Зарегистрироваться</a>
  </div>
    <div class="d-flex justify-content-center gap-2">
        <p-button label="Войти" (onClick)="login()"/>
    </div>
  </form>
</p-dialog>
  <app-register [visible]="isRegisterVisible"></app-register>
</span>
